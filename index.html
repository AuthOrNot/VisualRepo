<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Rosslyn Metro Status – Northeastern</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }
    header {
      display: flex;
      align-items: center;
      background: #fff;
      padding: 10px 20px;
    }
    header img {
      height: 50px;
    }
    #main {
      flex: 1;
      display: flex;
      flex-direction: row;
    }
    #info {
      flex: 1;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }
    #info h1 {
      font-size: 2.2em;
      margin-bottom: 10px;
      color: #c8102e; /* Northeastern Red */
    }
    #last-updated {
      font-size: 1em;
      color: #aaa;
      margin-bottom: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 1.4em;
    }
    th, td {
      padding: 12px;
      border-bottom: 1px solid #444;
      text-align: left;
    }
    th {
      background: #111;
      color: #c8102e;
    }
    .line-RED { color: #d71920; font-weight: bold; }
    .line-BLU { color: #0072ce; font-weight: bold; }
    .line-YEL { color: #ffd100; font-weight: bold; }
    .line-GRN { color: #00b140; font-weight: bold; }
    .line-ORG { color: #ff8200; font-weight: bold; }
    .line-SVR { color: #919d9d; font-weight: bold; }

    #map-container {
      flex: 1;
      position: relative;
      background: #fff;
    }
    #wmata-map {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .station-marker {
      position: absolute;
      width: 16px;
      height: 16px;
      background: #c8102e;
      border-radius: 50%;
      border: 2px solid white;
    }
    .station-label {
      position: absolute;
      color: #000;
      background: #fff;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.8em;
      white-space: nowrap;
    }
  </style>
</head>
<body>
  <header>
    <img src="new_northeastern_logo600 (1).png" alt="Northeastern Logo">
  </header>
  <div id="main">
    <div id="info">
      <h1>Rosslyn Metro – Next Trains</h1>
      <div id="last-updated">Loading...</div>
      <table>
        <thead>
          <tr>
            <th>Line</th>
            <th>Destination</th>
            <th>Arrival</th>
          </tr>
        </thead>
        <tbody id="train-data"></tbody>
      </table>
    </div>
    <div id="map-container">
      <!-- Static WMATA map -->
      <img id="wmata-map" src="https://www.wmata.com/schedules/maps/upload/2022-System-Map.png" alt="WMATA Rail Map">
      
      <!-- Example overlay markers (approximate positions, must adjust manually with CSS) -->
      <div class="station-marker" style="top:45%; left:40%;"></div>
      <div class="station-label" style="top:47%; left:42%;">Rosslyn</div>
    </div>
  </div>

  <script>
    const apiKey = "15889836cf154bccb8fdfb9ba6b3420a";
    const stationCode = "C05"; // Rosslyn

    async function fetchTrains() {
      const url = `https://api.wmata.com/StationPrediction.svc/json/GetPrediction/${stationCode}`;
      const response = await fetch(url, {
        headers: { "api_key": apiKey }
      });
      const data = await response.json();

      const tableBody = document.getElementById("train-data");
      tableBody.innerHTML = "";

      data.Trains.slice(0, 6).forEach(train => {
        const row = document.createElement("tr");
        row.innerHTML = `
          <td class="line-${train.Line}">${train.Line}</td>
          <td>${train.Destination}</td>
          <td>${train.Min}</td>
        `;
        tableBody.appendChild(row);
      });

      document.getElementById("last-updated").innerText =
        "Last updated: " + new Date().toLocaleTimeString();
    }

    fetchTrains();
    setInterval(fetchTrains, 30000);
  </script>
</body>
</html>
